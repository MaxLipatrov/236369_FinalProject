{"ast":null,"code":"var _jsxFileName = \"/home/max/PycharmProjects/236369/Final_Project/ReactApp/src/Component/Users.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport ReactPaginate from \"react-paginate\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nexport class Users extends Component {\n  constructor() {\n    super();\n\n    this.handlePageClick = data => {\n      const new_page = data.selected + 1;\n      this.setState({\n        current_page: new_page\n      });\n      this.refresh_users(new_page);\n    };\n\n    this.state = {\n      current_page: 1,\n      amount: 0,\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    this.refresh_users(1);\n    this.setState({\n      current_page: 1\n    });\n  }\n\n  refresh_users(page) {\n    if (this.props.type == 1) {\n      axios.defaults.withCredentials = true;\n      axios.get('http://127.0.0.1:5000/followers/' + this.props.id + \"?page=\" + page).then(response => {\n        this.setState({\n          users: response.data.followers,\n          amount: response.data.length\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      axios.defaults.withCredentials = true;\n      axios.get('http://127.0.0.1:5000/following/' + this.props.id + \"?page=\" + page).then(response => {\n        this.setState({\n          users: response.data.following,\n          amount: response.data.length\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  componentWillReceiveProps() {\n    this.componentDidMount();\n  }\n\n  render() {\n    let users = this.state.users.map(user => {\n      return React.createElement(\"div\", {\n        className: \"col-md-24 mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"rounded-circle account-img\",\n        src: \"http://127.0.0.1:5000\" + user.image_file,\n        height: \"60\",\n        width: \"60\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), \"  \", React.createElement(\"a\", {\n        href: \"/users/\" + user.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, '     ' + user.username))));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table col-md-6 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \" \", users)), React.createElement(ReactPaginate, {\n      breakLabel: '...',\n      breakClassName: 'break-me',\n      pageCount: Math.ceil(this.state.amount / 5),\n      marginPagesDisplayed: 2,\n      pageRangeDisplayed: 5,\n      onPageChange: this.handlePageClick,\n      containerClassName: 'pagination',\n      subContainerClassName: 'pages pagination',\n      disabledClassName: 'disabled',\n      activeClassName: 'active',\n      forcePage: this.state.current_page - 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/max/PycharmProjects/236369/Final_Project/ReactApp/src/Component/Users.js"],"names":["React","Component","axios","ReactPaginate","moment","Link","Users","constructor","handlePageClick","data","new_page","selected","setState","current_page","refresh_users","state","amount","users","componentDidMount","page","props","type","defaults","withCredentials","get","id","then","response","followers","length","catch","err","console","log","following","componentWillReceiveProps","render","map","user","image_file","username","Math","ceil"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from \"axios\";\nimport ReactPaginate from \"react-paginate\";\nimport moment from \"moment\";\nimport {Link} from \"react-router-dom\";\n\nexport class Users extends Component{\n    constructor() {\n        super()\n        this.state = {\n            current_page: 1,\n            amount:0,\n            users:[]\n        }\n    }\n\n    componentDidMount() {\n        this.refresh_users(1);\n        this.setState({current_page:1});\n    }\n\n    refresh_users(page){\n        if (this.props.type == 1) {\n            axios.defaults.withCredentials = true;\n            axios.get('http://127.0.0.1:5000/followers/' + this.props.id + \"?page=\" + page).then((response) => {\n                this.setState({\n                    users: response.data.followers,\n                    amount: response.data.length\n                })\n            }).catch(err => {\n                console.log(err)\n            });\n        }\n        else{\n             axios.defaults.withCredentials = true;\n            axios.get('http://127.0.0.1:5000/following/' + this.props.id + \"?page=\" + page).then((response) => {\n                this.setState({\n                    users: response.data.following,\n                    amount: response.data.length\n                })\n            }).catch(err => {\n                console.log(err)\n            });\n        }\n    }\n     handlePageClick = data => {\n        const new_page = (data.selected+1);\n          this.setState({\n                current_page: new_page\n            });\n        this.refresh_users(new_page);\n  };\n\n    componentWillReceiveProps(){\n        this.componentDidMount();\n    }\n\n    render(){\n         let users =  this.state.users.map((user) => {\n            return (\n                <div className=\"col-md-24 mx-auto\">\n              <tr>\n                    <td><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></td>\n                <td><img  className=\"rounded-circle account-img\"\n                                               src={\"http://127.0.0.1:5000\" + user.image_file}\n                                               height=\"60\" width=\"60\"\n                            />  <a href={\"/users/\"+user.id}>{'     '+user.username}</a></td>\n              </tr>\n                </div>\n\n            );\n        });\n\n         return (\n             <div>\n                 <table className=\"table col-md-6 mx-auto\">\n                    <tbody> {users}</tbody>\n                 </table>\n\n                  <ReactPaginate\n                      breakLabel={'...'}\n                      breakClassName={'break-me'}\n                      pageCount={Math.ceil(this.state.amount/5)}\n                      marginPagesDisplayed={2}\n                      pageRangeDisplayed={5}\n                      onPageChange={this.handlePageClick}\n                      containerClassName={'pagination'}\n                      subContainerClassName={'pages pagination'}\n                      disabledClassName={'disabled'}\n                      activeClassName={'active'}\n                      forcePage={this.state.current_page - 1}\n                    />\n             </div>\n         )\n\n    }\n}"]},"metadata":{},"sourceType":"module"}